"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function asyncGeneratorStep(e,t,n,o,a,i,l){try{var r=e[i](l),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(o,a)}function _asyncToGenerator(r){return function(){var e=this,l=arguments;return new Promise(function(t,n){var o=r.apply(e,l);function a(e){asyncGeneratorStep(o,t,n,a,i,"next",e)}function i(e){asyncGeneratorStep(o,t,n,a,i,"throw",e)}a(void 0)})}}document.addEventListener("DOMContentLoaded",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"));var t,o,n=document.querySelector(".header").clientHeight;document.documentElement.style.setProperty("--header","".concat(n,"px")),document.documentElement.clientWidth<1200&&(document.querySelector(".burger").addEventListener("click",function(e){this.classList.toggle("open"),this.closest(".navigation").querySelector(".navigation__content").classList.toggle("open")}),t=document.querySelector(".navigation"),o=t.querySelectorAll(".navigation__item"),t.addEventListener("click",function(e){var t,n=e.target.closest(".navigation__item_drop");n&&e.target.closest(".navigation__link")&&(e.preventDefault(),t=n.classList.contains("open"),o.forEach(function(e){return e.closest(".open")&&e.classList.remove("open")}),t||n.classList.add("open"))}));var a=document.querySelector(".navbar-first"),i=document.querySelector(".navbar-second"),l=+getComputedStyle(i).marginBottom.split("px").join(""),r=a.clientHeight,s=i.clientHeight+l;function c(){window.pageYOffset>r?i.classList.add("navbar-second_glue"):i.classList.remove("navbar-second_glue"),window.pageYOffset>r?a.style.marginBottom="".concat(s,"px"):a.style.marginBottom="0px"}c(),window.addEventListener("scroll",c);new Swiper(".swiper-main",{slidesPerView:"auto",initialSlide:0,centeredSlides:!0,spaceBetween:30,loop:!0,delay:5e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-main__prev",nextEl:".swiper-main__next"},slideToClickedSlide:!0,preloadImages:!1,lazy:!0,loadOnTransitionStart:!0}),new Swiper(".swiper-specialist",{initialSlide:0,spaceBetween:30,centeredSlides:!1,allowTouchMove:!1,navigation:{nextEl:".specialists__next",prevEl:".specialists__prev"},breakpoints:{480:{spaceBetween:10,slidesPerView:2},768:{spaceBetween:20,slidesPerView:3},992:{slidesPerView:4},1200:{slidesPerView:5},1500:{slidesPerView:6}}}),new Swiper(".swiper-comments",{initialSlide:0,centeredSlides:!0,loop:!0,autoplay:!1,navigation:{nextEl:".comments__next",prevEl:".comments__prev"}}),new Swiper(".swiper-comments-2",{initialSlide:0,centeredSlides:!0,loop:!0,autoplay:!1,navigation:{nextEl:".comments__next",prevEl:".comments__prev"}});document.querySelectorAll(".comments__swiper").forEach(function(e){return e.style.display="none"});var d=document.querySelector('[data-wrap="clinic"]'),u=document.querySelector('[data-wrap="specialist"]'),p=document.querySelector('[data-btn="clinic"]'),m=document.querySelector('[data-btn="specialist"]');function v(){p.classList.toggle("active"),m.classList.toggle("active"),d.classList.toggle("active"),u.classList.toggle("active")}p&&p.addEventListener("click",v),m&&m.addEventListener("click",v);var h,f,y=document.querySelector(".video");y&&(h=y.querySelector("video"),f=Math.ceil(h.getBoundingClientRect().top),window.addEventListener("scroll",function e(){var t,n,o=window.pageYOffset;f/2<o&&(window.removeEventListener("scroll",e),n=(t=h.querySelector("source")).dataset.src,t.setAttribute("src",n),h.load(),y.addEventListener("click",function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.paused)return e.next=3,h.play();e.next=6;break;case 3:h.controls=!0,e.next=8;break;case 6:h.pause(),h.controls=!1;case 8:t.target.closest(".video").classList.toggle("play");case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()))})),$("#datepicker").datepicker({minDate:new Date,onSelect:function(e){$("#appointment-date").val(e)}});new Modal({idModal:"modal-call-feedback",selectorBtnOpen:'[data-btn="modal-call-feedback-btn"]'}),new Modal({idModal:"modal-doctor-call",selectorBtnOpen:'[data-btn="modal-doctor-call-btn"]'}),new Modal({idModal:"modal-appointment",selectorBtnOpen:'[data-btn="modal-appointment-btn"]'}),new Modal({idModal:"modal-feedback",selectorBtnOpen:'[data-btn="modal-feedback-btn"]'}),new Modal({idModal:"modal-thanks-feedback",selectorBtnOpen:'[data-btn="modal-thanks-feedback-btn"]'}),new Modal({idModal:"modal-thanks-appointment",selectorBtnOpen:'[data-btn="modal-thanks-appointment-btn"]'});function g(){this.closest("form").querySelector(".button").toggleAttribute("disabled")}document.getElementById("call-feedback-checkbox").addEventListener("change",g),document.getElementById("doctor-call-checkbox").addEventListener("change",g),document.getElementById("appointment-checkbox").addEventListener("change",g);var w=document.querySelectorAll('a[href*="$"]');w.length&&w.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").split("");t.splice(0,1,"#");var n=t.join(""),o=$(n).offset().top-130;$("html:not(:animated),body:not(:animated)").animate({scrollTop:o},1100)})}),$("#call-feedback-tel").mask("+7 (999) 999-9999"),$("#call-doctor-call-tel").mask("+7 (999) 999-9999"),$("#call-appointment-tel").mask("+7 (999) 999-9999"),document.querySelector('[data-fancybox="gallery"]')&&$('[data-fancybox="gallery"]').fancybox({toolbar:!1,transitionEffect:"zoom-in-out",loop:!0});var _=document.querySelector(".amenities__spoilers");_&&document.querySelectorAll(".spoiler").forEach(function(e){new Spoiler({spoiler:e,wrap:_})}),document.querySelectorAll(".banner-stock").forEach(function(e){return e.style.height="".concat(e.clientWidth/6,"px")})});var ManagementEvents=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"addEventToArr",value:function(e){return e.arr.push({el:e.el,event:e.event,fn:e.fn}),e.el.addEventListener(e.event,e.fn),!0}},{key:"removeEvents",value:function(e){return e.forEach(function(e){e.el.removeEventListener(e.event,e.fn)}),e.splice(0,e.length),!0}}]),e}(),Modal=function(){function t(e){_classCallCheck(this,t),this.arrEvents=[],this._modal=document.getElementById(e.idModal),this._modalWindow=this._modal.querySelector('[data-modal="window"]'),this._btnsOpen=document.querySelectorAll(e.selectorBtnOpen),this._btnClose=this._modal.querySelector('[data-modal="close"]'),this.bind()}return _createClass(t,[{key:"open",value:function(){this._modal.classList.add("modal_open"),this._modalWindow.classList.add("modal__window_open")}},{key:"close",value:function(){this._modal.classList.remove("modal_open"),this._modalWindow.classList.remove("modal__window_open")}},{key:"bind",value:function(){var t=this;this._btnsOpen.forEach(function(e){ManagementEvents.addEventToArr({arr:t.arrEvents,el:e,event:"click",fn:function(){return t.open()}})}),ManagementEvents.addEventToArr({arr:this.arrEvents,el:this._modal,event:"click",fn:function(e){return!e.target.closest("[data-modal=window]")&&t.close()}}),ManagementEvents.addEventToArr({arr:this.arrEvents,el:this._btnClose,event:"click",fn:function(){return t.close()}})}},{key:"destroy",value:function(){ManagementEvents.removeEvents(this.arrEvents),this._modal.remove()}}]),t}(),Spoiler=function(){function t(e){_classCallCheck(this,t),this.spoiler=e.spoiler,this.body=this.spoiler.querySelector(".spoiler__body"),this.wrap=e.wrap,this.spoilers=null,this.height=null,this._initialize()}return _createClass(t,[{key:"open",value:function(){this.spoiler.classList.add("open"),this.body.style.height="".concat(this.height,"px")}},{key:"close",value:function(){this.spoiler.classList.remove("open"),this.body.style.height="0px"}},{key:"closeAll",value:function(){this.spoilers.forEach(function(e){e.classList.remove("open"),e.querySelector(".spoiler__body").style.height="0px"})}},{key:"_initialize",value:function(){var n=this;this.height=this.body.clientHeight,this.body.style.height="0px",this.wrap&&(this.spoilers=this.wrap.querySelectorAll(".spoiler")),this.spoiler.addEventListener("click",function(e){var t=e.target.closest(".spoiler");t&&(t.classList.contains("open")?n.close():(n.wrap&&n.closeAll(),n.open()))})}}]),t}();
//# sourceMappingURL=script.min.js.map
