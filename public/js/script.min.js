"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function asyncGeneratorStep(e,t,n,o,a,i,l){try{var r=e[i](l),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(r){return function(){var e=this,l=arguments;return new Promise(function(t,n){var o=r.apply(e,l);function a(e){asyncGeneratorStep(o,t,n,a,i,"next",e)}function i(e){asyncGeneratorStep(o,t,n,a,i,"throw",e)}a(void 0)})}}document.addEventListener("DOMContentLoaded",function(){var t=document.documentElement.clientWidth,e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"));var n=document.querySelector(".header").clientHeight;document.documentElement.style.setProperty("--header","".concat(n,"px"));var o=document.querySelectorAll(".article__pic");o.length&&o.forEach(function(e){return e.style.height="".concat(e.clientWidth/3.6,"px")});var a=document.querySelectorAll(".article-card__img");a.length&&a.forEach(function(e){return e.style.height="".concat(e.clientWidth/3.6,"px")});var i,l,r=document.querySelectorAll(".banner-stock");t<=480?r.forEach(function(e){return e.style.height="".concat(e.clientWidth/1.65,"px")}):r.forEach(function(e){return e.style.height="".concat(e.clientWidth/6,"px")}),t<1200&&(document.querySelector(".burger").addEventListener("click",function(e){this.classList.toggle("open"),this.closest(".navigation").querySelector(".navigation__content").classList.toggle("open"),this.classList.contains("open")?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="initial"}),i=document.querySelector(".navigation"),l=i.querySelectorAll(".navigation__item"),i.addEventListener("click",function(e){var t,n=e.target.closest(".navigation__item_drop");n&&e.target.closest(".navigation__link")&&(e.preventDefault(),t=n.classList.contains("open"),l.forEach(function(e){return e.closest(".open")&&e.classList.remove("open")}),t||n.classList.add("open"))}));var c=document.querySelector(".navbar-first"),s=document.querySelector(".navbar-second"),d=+getComputedStyle(s).marginBottom.split("px").join(""),u=c.clientHeight,p=s.clientHeight+d;function m(){window.pageYOffset>u?s.classList.add("navbar-second_glue"):s.classList.remove("navbar-second_glue"),window.pageYOffset>u?c.style.marginBottom="".concat(p,"px"):c.style.marginBottom="0px"}var h=document.querySelector(".navigation__content"),v=document.querySelector(".navbar-second");function f(){var e;t<1200&&(e=v.getBoundingClientRect().top,h.style.height=0<e?window.innerHeight-(v.clientHeight+e)+"px":window.innerHeight-v.clientHeight+"px")}m(),f(),window.addEventListener("scroll",function(){f(),m()}),window.onresize=f,new Swiper(".swiper-main",{slidesPerView:"auto",initialSlide:0,centeredSlides:!0,spaceBetween:30,loop:!0,autoplay:!0,delay:4e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-main__prev",nextEl:".swiper-main__next"},slideToClickedSlide:!0,preloadImages:!1,lazy:!0,loadOnTransitionStart:!0}),new Swiper(".banner-stock",{slidesPerView:"auto",initialSlide:0,centeredSlides:!0,spaceBetween:30,loop:!0,autoplay:!0,delay:6e3,pagination:{el:".banner-stock__pagination",clickable:!0},navigation:{prevEl:".banner-stock__prev",nextEl:".banner-stock__next"},slideToClickedSlide:!0,preloadImages:!1}),new Swiper(".swiper-specialist",{initialSlide:0,spaceBetween:30,centeredSlides:!1,allowTouchMove:!1,navigation:{nextEl:".specialists__next",prevEl:".specialists__prev"},breakpoints:{480:{spaceBetween:10,slidesPerView:2},768:{spaceBetween:20,slidesPerView:3},992:{slidesPerView:4},1200:{slidesPerView:5},1500:{slidesPerView:6}}}),new Swiper(".swiper-comments",{initialSlide:0,centeredSlides:!0,loop:!0,autoplay:!1,navigation:{nextEl:".comments__next",prevEl:".comments__prev"}}),new Swiper(".swiper-comments-2",{initialSlide:0,centeredSlides:!0,loop:!0,autoplay:!1,navigation:{nextEl:".comments__next",prevEl:".comments__prev"}}),document.querySelectorAll(".comments__swiper").forEach(function(e){return e.style.display="none"});var y=document.querySelector('[data-wrap="clinic"]'),g=document.querySelector('[data-wrap="specialist"]'),w=document.querySelector('[data-btn="clinic"]'),_=document.querySelector('[data-btn="specialist"]');function b(){w.classList.toggle("active"),_.classList.toggle("active"),y.classList.toggle("active"),g.classList.toggle("active")}w&&w.addEventListener("click",b),_&&_.addEventListener("click",b);var E,k,S=document.querySelector(".video");S&&(E=S.querySelector("video"),k=Math.ceil(E.getBoundingClientRect().top),window.addEventListener("scroll",function e(){var t,n,o=window.pageYOffset;k/2<o&&(window.removeEventListener("scroll",e),n=(t=E.querySelector("source")).dataset.src,t.setAttribute("src",n),E.load(),S.addEventListener("click",function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.paused)return e.next=3,E.play();e.next=7;break;case 3:S.style.background="url(../images/other/pattern.png) center repeat",E.controls=!0,e.next=9;break;case 7:E.pause(),E.controls=!1;case 9:t.target.closest(".video").classList.toggle("play");case 10:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()))})),$("#datepicker").datepicker({minDate:new Date,onSelect:function(e){$("#appointment-date").val(e)}});new Modal({idModal:"modal-call-feedback",selectorBtnOpen:'[data-btn="modal-call-feedback-btn"]'}),new Modal({idModal:"modal-doctor-call",selectorBtnOpen:'[data-btn="modal-doctor-call-btn"]'}),new Modal({idModal:"modal-appointment",selectorBtnOpen:'[data-btn="modal-appointment-btn"]'}),new Modal({idModal:"modal-feedback",selectorBtnOpen:'[data-btn="modal-feedback-btn"]'}),new Modal({idModal:"modal-thanks-feedback",selectorBtnOpen:'[data-btn="modal-thanks-feedback-btn"]'}),new Modal({idModal:"modal-thanks-appointment",selectorBtnOpen:'[data-btn="modal-thanks-appointment-btn"]'});function L(){this.closest("form").querySelector(".button").toggleAttribute("disabled")}document.getElementById("call-feedback-checkbox").addEventListener("change",L),document.getElementById("doctor-call-checkbox").addEventListener("change",L),document.getElementById("appointment-checkbox").addEventListener("change",L);var x=document.querySelectorAll('a[href*="$"]');x.length&&x.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").split("");t.splice(0,1,"#");var n=t.join(""),o=$(n).offset().top-130;$("html:not(:animated),body:not(:animated)").animate({scrollTop:o},1100)})}),$("#call-feedback-tel").mask("+7 (999) 999-9999"),$("#call-doctor-call-tel").mask("+7 (999) 999-9999"),$("#call-appointment-tel").mask("+7 (999) 999-9999"),document.querySelector('[data-fancybox="gallery"]')&&$('[data-fancybox="gallery"]').fancybox({toolbar:!1,transitionEffect:"zoom-in-out",loop:!0});var q=document.querySelector(".amenities__spoilers");q&&document.querySelectorAll(".spoiler").forEach(function(e){new Spoiler({spoiler:e,wrap:q})})});var ManagementEvents=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"addEventToArr",value:function(e){return e.arr.push({el:e.el,event:e.event,fn:e.fn}),e.el.addEventListener(e.event,e.fn),!0}},{key:"removeEvents",value:function(e){return e.forEach(function(e){e.el.removeEventListener(e.event,e.fn)}),e.splice(0,e.length),!0}}]),e}(),Modal=function(){function t(e){_classCallCheck(this,t),this.arrEvents=[],this._modal=document.getElementById(e.idModal),this._modalWindow=this._modal.querySelector('[data-modal="window"]'),this._btnsOpen=document.querySelectorAll(e.selectorBtnOpen),this._btnClose=this._modal.querySelector('[data-modal="close"]'),this.bind()}return _createClass(t,[{key:"open",value:function(){this._modal.classList.add("modal_open"),this._modalWindow.classList.add("modal__window_open")}},{key:"close",value:function(){this._modal.classList.remove("modal_open"),this._modalWindow.classList.remove("modal__window_open")}},{key:"bind",value:function(){var t=this;this._btnsOpen.forEach(function(e){ManagementEvents.addEventToArr({arr:t.arrEvents,el:e,event:"click",fn:function(){return t.open()}})}),ManagementEvents.addEventToArr({arr:this.arrEvents,el:this._modal,event:"click",fn:function(e){return!e.target.closest("[data-modal=window]")&&t.close()}}),ManagementEvents.addEventToArr({arr:this.arrEvents,el:this._btnClose,event:"click",fn:function(){return t.close()}})}},{key:"destroy",value:function(){ManagementEvents.removeEvents(this.arrEvents),this._modal.remove()}}]),t}(),Spoiler=function(){function t(e){_classCallCheck(this,t),this.spoiler=e.spoiler,this.body=this.spoiler.querySelector(".spoiler__body"),this.wrap=e.wrap,this.spoilers=null,this.height=null,this._initialize()}return _createClass(t,[{key:"open",value:function(){this.spoiler.classList.add("open"),this.body.style.height="".concat(this.height,"px")}},{key:"close",value:function(){this.spoiler.classList.remove("open"),this.body.style.height="0px"}},{key:"closeAll",value:function(){this.spoilers.forEach(function(e){e.classList.remove("open"),e.querySelector(".spoiler__body").style.height="0px"})}},{key:"_initialize",value:function(){var n=this;this.height=this.body.clientHeight,this.body.style.height="0px",this.wrap&&(this.spoilers=this.wrap.querySelectorAll(".spoiler")),this.spoiler.addEventListener("click",function(e){var t=e.target.closest(".spoiler");t&&(t.classList.contains("open")?n.close():(n.wrap&&n.closeAll(),n.open()))})}}]),t}();
//# sourceMappingURL=script.min.js.map
