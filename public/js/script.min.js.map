{"version":3,"sources":["script.js"],"names":["document","addEventListener","screenWidth","documentElement","clientWidth","vh","window","innerHeight","style","setProperty","concat","header","querySelector","clientHeight","coversArticles","querySelectorAll","length","forEach","cover","height","coversCardsArt","navigation","arrDropdownItem","bannersStock","banner","event","toggle","this","classList","contains","overflow","itemOpen","target","closest","preventDefault","item","remove","add","firstMenu","secondMenu","marginBottom","split","join","scrollHeight","mb","secondMenuMb","transferNavbarSecond","pageYOffset","navbarSecond","menuMobile","topOffsetNavbarSecond","getBoundingClientRect","top","setHeightMenuMobile","onresize","initialSlide","centeredSlides","spaceBetween","loop","autoplay","delay","pagination","el","clickable","nextEl","prevEl","slideToClickedSlide","lazy","loadOnTransitionStart","preloadImages","allowTouchMove","breakpoints","480","slidesPerView","768","1500","Swiper","btnClinic","btnSpecialist","clinicWrap","specialistWrap","toggleFeedback","source","video","removeEventListener","videoWrap","setAttribute","urlVideo","Math","ceil","loadVideo","scrollTop","videoScrollTop","dataset","src","load","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","background","controls","pause","stop","_x","apply","arguments","$","datepicker","minDate","Date","onSelect","dateText","val","Modal","idModal","selectorBtnOpen","modalCallFeedback","modalThanksFeedback","modalThanksAppointment","checkAgree","getElementById","anchors","btn","toggleAttribute","anchor","e","getAttribute","normalName","elementClick","destination","offset","animate","mask","fancybox","toolbar","transitionEffect","spoilerWrap","spoiler","ManagementEvents","data","arr","push","fn","splice","_classCallCheck","arrEvents","_modal","_modalWindow","_btnsOpen","_btnClose","bind","_this","addEventToArr","open","close","Spoiler","body","spoilers","_initialize","_this2","removeEvents","closeAll"],"mappings":"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","file":"script.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const screenWidth = document.documentElement.clientWidth;\n\n  /**\n   * 100vh - высота без учета панелей инструментов на мобильных\n   */\n  const vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n  const header = document.querySelector('.header').clientHeight;\n  document.documentElement.style.setProperty('--header', `${header}px`);\n\n\n  /**\n   * Обложки статей в соотношении 3.6\n   */\n  const coversArticles = document.querySelectorAll('.article__pic');\n  if (coversArticles.length) coversArticles.forEach(cover => cover.style.height = `${cover.clientWidth / 3.6}px`);\n\n  /**\n   * Обложки статей в соотношении 3.6\n   */\n  const coversCardsArt = document.querySelectorAll('.article-card__img');\n  if (coversCardsArt.length) coversCardsArt.forEach(cover => cover.style.height = `${cover.clientWidth / 3.6}px`);\n\n  /**\n   * Соотношение сторон баннера акций 6:1 (ПК), 330:200 (мобилки, ниже 480px)\n   */\n  const bannersStock = document.querySelectorAll('.banner-stock');\n  screenWidth <= 480\n    ? bannersStock.forEach(banner => banner.style.height = `${banner.clientWidth / 1.65}px`)\n    : bannersStock.forEach(banner => banner.style.height = `${banner.clientWidth / 6}px`);\n\n\n  /**\n   * Если видно мобильное меню\n   */\n  if (screenWidth < 1200) {\n    /**\n     * Открытие мобильного меню\n     */\n    const burger = document.querySelector('.burger');\n    burger.addEventListener('click', function (event) {\n      this.classList.toggle('open');\n      this\n        .closest('.navigation')\n        .querySelector('.navigation__content')\n        .classList.toggle('open');\n\n      this.classList.contains('open')\n        ? document.querySelector('body').style.overflow = 'hidden'\n        : document.querySelector('body').style.overflow = 'initial';\n    });\n\n    /**\n     * Переключение открытой навигации\n     */\n    const navigation = document.querySelector('.navigation');\n    const arrDropdownItem = navigation.querySelectorAll('.navigation__item');\n\n    navigation.addEventListener('click', event => {\n      /**\n       * Если клик был не по пункту с дропдауном, то выходим\n       */\n        const target = event.target.closest('.navigation__item_drop');\n        if (!target) return;\n\n      /**\n       * Если клик был по ссылке внутри дропдауна, то выходим\n       */\n      const subItem = event.target.closest('.navigation__link');\n      if (!subItem) return;\n\n      event.preventDefault();\n\n      const itemOpen = target.classList.contains('open');\n\n      /**\n       * Закрываем все пункты\n       */\n      arrDropdownItem.forEach(item => item.closest('.open') && item.classList.remove('open'));\n\n      /**\n       * Открываем нужный\n       */\n      !itemOpen && target.classList.add('open');\n    })\n  }\n\n\n  /** Прилипание меню после прокрутки и изменение высоты мобильного меню */\n  const firstMenu = document.querySelector('.navbar-first');\n  const secondMenu = document.querySelector('.navbar-second');\n  const secondMenuMb = +getComputedStyle(secondMenu).marginBottom.split('px').join('');\n  const scrollHeight = firstMenu.clientHeight;\n  const mb = secondMenu.clientHeight + secondMenuMb;\n\n  function transferNavbarSecond() {\n    window.pageYOffset > scrollHeight\n      ? secondMenu.classList.add('navbar-second_glue')\n      : secondMenu.classList.remove('navbar-second_glue');\n\n    window.pageYOffset > scrollHeight\n      ? firstMenu.style.marginBottom = `${mb}px`\n      : firstMenu.style.marginBottom = '0px';\n  }\n\n  const menuMobile = document.querySelector('.navigation__content');\n  const navbarSecond = document.querySelector('.navbar-second');\n\n  function setHeightMenuMobile() {\n    if (screenWidth < 1200) {\n      const topOffsetNavbarSecond = navbarSecond.getBoundingClientRect().top;\n\n      /** Рассчитываем высоту меню */\n      menuMobile.style.height = topOffsetNavbarSecond > 0\n        ? window.innerHeight - (navbarSecond.clientHeight + topOffsetNavbarSecond) + 'px'\n        : window.innerHeight - navbarSecond.clientHeight + 'px';\n    }\n  }\n\n  transferNavbarSecond();\n  setHeightMenuMobile();\n\n  window.addEventListener('scroll', () => {\n    setHeightMenuMobile();\n    transferNavbarSecond();\n  });\n\n  window.onresize = setHeightMenuMobile;\n\n\n  /** Инициализация слайдеров swiper */\n  new Swiper('.swiper-main', {\n    slidesPerView: 'auto',\n    initialSlide: 0,\n    centeredSlides: true,\n    spaceBetween: 30,\n    loop: true,\n    autoplay: true,\n    delay: 4000,\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    navigation: {\n      prevEl: '.swiper-main__prev',\n      nextEl: '.swiper-main__next'\n    },\n    slideToClickedSlide: true,\n    preloadImages: false,\n    lazy: true,\n    loadOnTransitionStart: true\n  });\n\n  new Swiper('.banner-stock', {\n    slidesPerView: 'auto',\n    initialSlide: 0,\n    centeredSlides: true,\n    spaceBetween: 30,\n    loop: true,\n    autoplay: true,\n    delay: 6000,\n    pagination: {\n      el: '.banner-stock__pagination',\n      clickable: true,\n    },\n    navigation: {\n      prevEl: '.banner-stock__prev',\n      nextEl: '.banner-stock__next'\n    },\n    slideToClickedSlide: true,\n    preloadImages: false,\n  });\n\n  new Swiper('.swiper-specialist', {\n    initialSlide: 0,\n    spaceBetween: 30,\n    centeredSlides: false,\n    allowTouchMove: false,\n    navigation: {\n      nextEl: '.specialists__next',\n      prevEl: '.specialists__prev',\n    },\n    breakpoints: {\n      480: {\n        spaceBetween: 10,\n        slidesPerView: 2\n      },\n      768: {\n        spaceBetween: 20,\n        slidesPerView: 3\n      },\n      992: {\n        slidesPerView: 4\n      },\n      1200: {\n        slidesPerView: 5\n      },\n      1500: {\n        slidesPerView: 6\n      }\n    }\n  });\n\n  new Swiper('.swiper-comments', {\n    initialSlide: 0,\n    centeredSlides: true,\n    loop: true,\n    autoplay: false,\n    navigation: {\n      nextEl: '.comments__next',\n      prevEl: '.comments__prev',\n    },\n  });\n\n  new Swiper('.swiper-comments-2', {\n    initialSlide: 0,\n    centeredSlides: true,\n    loop: true,\n    autoplay: false,\n    navigation: {\n      nextEl: '.comments__next',\n      prevEl: '.comments__prev',\n    },\n  });\n\n\n  /**\n   * После инициализации всех слайдеров с комментами скрываем их\n   * видны будут только те у которых есть класс .active\n   */\n  const commentsWrap = document.querySelectorAll('.comments__swiper');\n  commentsWrap.forEach(el => el.style.display = 'none');\n\n\n  /** Табы внутри блока отзывов */\n  const clinicWrap = document.querySelector('[data-wrap=\"clinic\"]');\n  const specialistWrap = document.querySelector('[data-wrap=\"specialist\"]');\n  const btnClinic = document.querySelector('[data-btn=\"clinic\"]');\n  const btnSpecialist = document.querySelector('[data-btn=\"specialist\"]');\n\n  function toggleFeedback() {\n    btnClinic.classList.toggle('active');\n    btnSpecialist.classList.toggle('active');\n    clinicWrap.classList.toggle('active');\n    specialistWrap.classList.toggle('active');\n  }\n\n  btnClinic && btnClinic.addEventListener('click', toggleFeedback);\n  btnSpecialist && btnSpecialist.addEventListener('click', toggleFeedback);\n\n\n  /**\n   * Ленивая загрузка видео\n   * событие скролла удаляется по достижению 50% прокрутки до видео\n   */\n  const videoWrap = document.querySelector('.video');\n\n  if (videoWrap) {\n    const video = videoWrap.querySelector('video');\n    const videoScrollTop = Math.ceil(video.getBoundingClientRect().top);\n\n    window.addEventListener('scroll', loadVideo);\n\n    function loadVideo() {\n      const scrollTop = window.pageYOffset;\n\n      if (scrollTop > videoScrollTop / 2) {\n        window.removeEventListener('scroll', loadVideo);\n\n        const source = video.querySelector('source');\n        const urlVideo = source.dataset.src;\n        source.setAttribute('src', urlVideo);\n        video.load();\n\n        /** Вешаем обработчик на воспроизведение/остановку видео */\n        videoWrap.addEventListener('click', async event => {\n\n          if (video.paused) {\n            await video.play();\n            videoWrap.style.background = 'url(../images/other/pattern.png) center repeat';\n            video.controls = true;\n          } else {\n            video.pause();\n            video.controls = false;\n          }\n\n          event.target.closest('.video').classList.toggle('play');\n        });\n      }\n    }\n  }\n\n\n  /** Календарь в модалке */\n  $('#datepicker').datepicker({\n    minDate: new Date(),\n    onSelect: function (dateText) {\n      $('#appointment-date').val(dateText);\n    }\n  });\n\n\n  /** Инициализация модалок */\n  const modalCallFeedback = new Modal({\n    idModal: 'modal-call-feedback',\n    selectorBtnOpen: '[data-btn=\"modal-call-feedback-btn\"]'\n  });\n\n  const modalDoctorCall = new Modal({\n    idModal: 'modal-doctor-call',\n    selectorBtnOpen: '[data-btn=\"modal-doctor-call-btn\"]'\n  });\n\n  const modalAppointment = new Modal({\n    idModal: 'modal-appointment',\n    selectorBtnOpen: '[data-btn=\"modal-appointment-btn\"]'\n  });\n\n  const modalFeedback = new Modal({\n    idModal: 'modal-feedback',\n    selectorBtnOpen: '[data-btn=\"modal-feedback-btn\"]'\n  });\n\n  const modalThanksFeedback = new Modal({\n    idModal: 'modal-thanks-feedback',\n    selectorBtnOpen: '[data-btn=\"modal-thanks-feedback-btn\"]'\n  });\n\n  const modalThanksAppointment = new Modal({\n    idModal: 'modal-thanks-appointment',\n    selectorBtnOpen: '[data-btn=\"modal-thanks-appointment-btn\"]'\n  });\n\n\n  /** Проверка согласия на обработку персональных данных */\n  function checkAgree() {\n    const btn = this.closest('form').querySelector('.button');\n    btn.toggleAttribute('disabled');\n  }\n  document.getElementById('call-feedback-checkbox').addEventListener('change', checkAgree);\n  document.getElementById('doctor-call-checkbox').addEventListener('change', checkAgree);\n  document.getElementById('appointment-checkbox').addEventListener('change', checkAgree);\n\n\n  /** Плавная прокрутка до якоря */\n  const anchors = document.querySelectorAll('a[href*=\"$\"]');\n  if (anchors.length) {\n    anchors.forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n\n        const elementClick = this.getAttribute('href').split('');\n        elementClick.splice(0, 1, '#');\n        const normalName = elementClick.join('');\n        const destination = $(normalName).offset().top - 130;\n\n        $(\"html:not(:animated),body:not(:animated)\").animate({scrollTop: destination}, 1100);\n      })\n    });\n  }\n\n\n  /** Маска номера телефона на поля. Maskedinput */\n  $(\"#call-feedback-tel\").mask(\"+7 (999) 999-9999\");\n  $(\"#call-doctor-call-tel\").mask(\"+7 (999) 999-9999\");\n  $(\"#call-appointment-tel\").mask(\"+7 (999) 999-9999\");\n\n\n  /** Инициализация галереи fancybox */\n  document.querySelector('[data-fancybox=\"gallery\"]') && $('[data-fancybox=\"gallery\"]').fancybox({\n    toolbar: false,\n    transitionEffect: \"zoom-in-out\",\n    loop: true\n  });\n\n\n  /** Спойлеры услуг */\n  const spoilerWrap = document.querySelector('.amenities__spoilers');\n  if (spoilerWrap) {\n    const spoilers = document.querySelectorAll('.spoiler');\n    spoilers.forEach(spoiler => {\n      new Spoiler({\n        spoiler,\n        wrap: spoilerWrap\n      })\n    });\n  }\n});\n\n\n/** Управляем событиями */\nclass ManagementEvents {\n\n  /**\n   * На входе принимаем объект с параметрами\n   * arr   - массив куда сохраняем события\n   * el    - элемент, на который навешиваем обработчик\n   * event - событие (str)\n   * fn    - анонимная функция без вызова\n   * @param data\n   */\n  static addEventToArr(data) {\n    /** Добавляем событие в массив */\n    data.arr.push({el: data.el, event: data.event, fn: data.fn});\n\n    /** Вешаем слушатель */\n    data.el.addEventListener(data.event, data.fn);\n\n    return true\n  }\n\n  /**\n   * На входе принимаем массив событий\n   * @param arr\n   */\n  static removeEvents(arr) {\n    /** Снимаем обработчики события */\n    arr.forEach(item => {\n      item.el.removeEventListener(item.event, item.fn)\n    });\n\n    /** Очищаем массив */\n    arr.splice(0, arr.length);\n\n    return true;\n  }\n}\n\nclass Modal {\n  constructor(data) {\n    this.arrEvents = [];\n    this._modal = document.getElementById(data.idModal);\n    this._modalWindow = this._modal.querySelector('[data-modal=\"window\"]');\n\n    this._btnsOpen = document.querySelectorAll(data.selectorBtnOpen);\n    this._btnClose = this._modal.querySelector('[data-modal=\"close\"]');\n\n    this.bind();\n  }\n\n  open() {\n    this._modal.classList.add('modal_open');\n    this._modalWindow.classList.add('modal__window_open');\n  }\n  close() {\n    this._modal.classList.remove('modal_open');\n    this._modalWindow.classList.remove('modal__window_open');\n  }\n\n  bind() {\n    /**\n     * Открытие модалки по клику на кнопку\n     */\n    this._btnsOpen.forEach(btn => {\n      ManagementEvents.addEventToArr({\n        arr: this.arrEvents,\n        el: btn,\n        event: 'click',\n        fn: () => this.open()\n      });\n    });\n\n\n    /**\n     * Закрытие модалки по клику вне нее\n     */\n    ManagementEvents.addEventToArr({\n      arr: this.arrEvents,\n      el: this._modal,\n      event: 'click',\n      fn: event => !event.target.closest('[data-modal=window]') && this.close()\n    });\n\n    /**\n     * Закрытие модалки по клику на крестик\n     */\n    ManagementEvents.addEventToArr({\n      arr: this.arrEvents,\n      el: this._btnClose,\n      event: 'click',\n      fn: () => this.close()\n    });\n  }\n\n  destroy() {\n    ManagementEvents.removeEvents(this.arrEvents);\n    this._modal.remove();\n  }\n}\n\nclass Spoiler {\n  constructor(data) {\n    this.spoiler = data.spoiler;\n    this.body = this.spoiler.querySelector('.spoiler__body');\n    this.wrap = data.wrap;\n    this.spoilers = null;\n    this.height = null;\n\n    this._initialize();\n  }\n\n  open() {\n    this.spoiler.classList.add('open');\n    this.body.style.height = `${this.height}px`;\n  }\n\n  close() {\n    this.spoiler.classList.remove('open');\n    this.body.style.height = '0px';\n  }\n\n  closeAll() {\n    this.spoilers.forEach(spoiler => {\n      spoiler.classList.remove('open');\n      spoiler.querySelector('.spoiler__body').style.height = '0px';\n    });\n  }\n\n  _initialize() {\n    this.height = this.body.clientHeight;\n    this.body.style.height = '0px';\n\n    /** если есть this.wrap, значит включен режим аккордеона */\n    if (this.wrap) this.spoilers = this.wrap.querySelectorAll('.spoiler');\n\n    this.spoiler.addEventListener('click', event => {\n      const spoiler = event.target.closest('.spoiler');\n      if (!spoiler) return;\n\n      /** открываем или закрываем спойлер */\n      const open = spoiler.classList.contains('open');\n      if (open) {\n        this.close();\n      } else {\n        this.wrap && this.closeAll();\n        this.open();\n      }\n    });\n  }\n}\n"]}